<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


<!DOCTYPE html>
<html lang="en">


<html>
   <head>
       <meta charset = "utf-8">
       <meta name = "viewport" content = "width = device-width, initial-scale = 1">
       <link rel="stylesheet" href="styles.css">
       <title>PerfectFit</title>
   </head>
<body>

<!-- Cover Page -->
<div id="coverPage" class="cover-page">
    <div class="cover-content">
        <h1>Welcome to PerfectFit</h1>
        <p>Discover fashion that fits your style and comfort.</p>
        <button onclick="startApp()">Get Started</button>
    </div>
 </div>
 
 
 <!-- Cover Page Javascript-->
 <script>
    function startApp() {
        document.getElementById('coverPage').style.display = 'none';
        document.getElementById('mainContent').style.display = 'block';
    }
 </script>
 
 
 <!-- Cycles Background images-->
 <script>
    // Array of background images
    const backgrounds = [
        'defaults/backgrounds/background1.png',
        'defaults/backgrounds/background2.png',
        'defaults/backgrounds/background3.png',
        'defaults/backgrounds/background4.png',
        'defaults/backgrounds/background5.png'
    ];
    let currentBackgroundIndex = 0; // Initial background index
 
 
    // Function to cycle through backgrounds
    function changeBackground() {
        const coverPage = document.querySelector('.cover-page');
        coverPage.style.backgroundImage = `url('${backgrounds[currentBackgroundIndex]}')`;
        currentBackgroundIndex = (currentBackgroundIndex + 1) % backgrounds.length; // Increment index, loop back to 0
    }
 
 
    // Set interval to change background every 2000 milliseconds (2 seconds)
    setInterval(changeBackground, 4000);
 
 
    // Initialize first background
    changeBackground();
 </script>


<!--Sets default sources for images-->

<!-- Main Page Content -->
<div id="mainContent" class="main-content" style="display:none;">
<div class="container">
   <p class="text">PerfectFit</p>
</div>


<div class="headwear">
   <img src="defaults/headwear/headwear1.png" id="headwear" height="80"/>
</div>


<div class="top">
    <img src="defaults/tops/top1.png" id="tops" height="250"/>
</div>

<div class="bottom">
    <img src="defaults/bottoms/bottoms1.png" id="bottoms" height="350">
</div>


<div class="shoes">
   <img src="defaults/shoes/shoes1.png" id="shoes" height="90">
</div>


<!--HEADWEAR BUTTONS-->


<div class="headwearNextButton">
   <button onclick="nextButtonClick('headwear')" style="font-size: 25px; background-color: white;">></button>
</div>


<div class="headwearPrevButton">
   <button onclick="prevButtonClick('headwear')" style="font-size: 25px; background-color: white;"><</button>
</div>


<!-- Top Buttons -->
<div class="topNextButton">
    <button onclick="nextButtonClick('tops')" style="font-size: 25px; background-color: white;">></button>
</div>
<div class="topPrevButton">
    <button onclick="prevButtonClick('tops')" style="font-size: 25px; background-color: white;"><</button>
</div>

<!-- Bottom Buttons -->
<div class="bottomNextButton">
    <button onclick="nextButtonClick('bottoms')" style="font-size: 25px; background-color: white;">></button>
</div>
<div class="bottomPrevButton">
    <button onclick="prevButtonClick('bottoms')" style="font-size: 25px; background-color: white;"><</button>
</div>



<!--SHOES BUTTONS-->


<div class="shoesNextButton">
   <button onclick="nextButtonClick('shoes')" style="font-size: 25px; background-color: white;">></button>
</div>


<div class="shoesPrevButton">
   <button onclick="prevButtonClick('shoes')" style="font-size: 25px; background-color: white;"><</button>
</div>




<div class="container">
   <p class="text">PerfectFit</p>
</div>


<!--Javascript functions to change the source of picture of the garment-->
<!-- Javascript functions to change the source of picture of the garment -->
<script type="text/javascript">
    let headwear_index = 0;
    let top_index = 0;
    let bottom_index = 0;
    let shoes_index = 0;

    const headwear = ['defaults/headwear/headwear1.png', 'defaults/headwear/headwear2.png', 'defaults/headwear/headwear3.png', 'defaults/headwear/headwear4.png'];
    const tops = ['defaults/tops/top1.png', 'defaults/tops/top2.png', 'defaults/tops/top3.png', 'defaults/tops/top4.png', 'defaults/tops/top6.png'];
    const bottoms = ['defaults/bottoms/bottoms1.png', 'defaults/bottoms/bottoms2.png', 'defaults/bottoms/bottoms3.png', 'defaults/bottoms/bottoms4.png', 'defaults/bottoms/bottoms5.png', 'defaults/bottoms/bottoms6.png'];
    const shoes = ['defaults/shoes/shoes1.png', 'defaults/shoes/shoes2.png', 'defaults/shoes/shoes3.png'];

    // Function to move to next item in list
    function nextButtonClick(id) {
        if (id == 'headwear') {
            headwear_index = (headwear_index + 1) % headwear.length;
            document.getElementById(id).src = headwear[headwear_index];
        }

        if (id == 'tops') {
            top_index = (top_index + 1) % tops.length;
            document.getElementById(id).src = tops[top_index];
        }

        if (id == 'bottoms') {
            bottom_index = (bottom_index + 1) % bottoms.length;
            document.getElementById(id).src = bottoms[bottom_index];
        }

        if (id == 'shoes') {
            shoes_index = (shoes_index + 1) % shoes.length;
            document.getElementById(id).src = shoes[shoes_index];
        }
    }

    // Function to move to previous item in list
    function prevButtonClick(id) {
        if (id == 'headwear') {
            headwear_index = (headwear_index - 1 + headwear.length) % headwear.length;
            document.getElementById(id).src = headwear[headwear_index];
        }

        if (id == 'tops') {
            top_index = (top_index - 1 + tops.length) % tops.length;
            document.getElementById(id).src = tops[top_index];
        }

        if (id == 'bottoms') {
            bottom_index = (bottom_index - 1 + bottoms.length) % bottoms.length;
            document.getElementById(id).src = bottoms[bottom_index];
        }

        if (id == 'shoes') {
            shoes_index = (shoes_index - 1 + shoes.length) % shoes.length;
            document.getElementById(id).src = shoes[shoes_index];
        }
    }
</script>

<div id="display"></div>


<div id="myModal" class="modal">
   <!-- Modal content -->
   <div class="modal-content">
       <span class="close">&times;</span>
       <form>
           <input id="pinterestUsername" placeholder="Username" type="text">
           <input id="pinterestPassword" placeholder="Password" type="text">
       </form>
       <button onclick="openWindow('pinterest')">Sign In</button>
       <div id="buttonContainer"></div>
   </div>
</div>


<title> Animated Navigation Menu</title>


   <!--TOP RIGHT NAVIGATION BAR-->
   <div class="navigation">


       <li><a href="#"><i class="fa fa-home" aria-hidden="true"></i></a></li>


       <div class="dropdown">
           <li>
               <a href="#">
                   <label>
                       <label class="fa fa-plus" aria-hidden="true"></label>
                   </label>
               </a>
           </li>


           <div class="dropdown-menu">


               <form onchange="submitForm(event, 'headwear')" style="display:none" id="headwearImageForm" enctype="multipart/form-data">
                   <input type="file" id="headwearImageUpload" style="display:none" accept="image/png, image/jpg" multiple>
               </form>


               <form onchange="submitForm(event, 'tops')" style="display:none" id="topsImageForm" enctype="multipart/form-data">
                   <input type="file" id="topsImageUpload" style="display:none" accept="image/png, image/jpg" multiple>
               </form>


               <form onchange="submitForm(event, 'bottoms')" style="display:none" id="bottomsImageForm" enctype="multipart/form-data"></form>
                   <input type="file" id="bottomsImageUpload" style="display:none" accept="image/png, image/jpg" multiple>
               </form>


               <label for="headwearImageUpload">Headwear</label>
               <label for="topsImageUpload">Tops</label>
               <label for="bottomsImageUpload">Bottoms</label>
               <button id="pinterest-login">Pinterest</button>


               <script src="bgrem.js"></script>
               <script src="webscrape.js"></script>


               <!--Moves X Button when dropdown occurs-->
               <script>
                   document.addEventListener('DOMContentLoaded', function() {
                       const plusIcon = document.querySelector('.dropdown'); // Assuming this is where your "+" icon is
                       const closeButton = document.querySelector('.toggleMenu'); // Assuming this is your "X" button
                           // Hover over "+" icon
                           plusIcon.addEventListener('mouseenter', function() {
                           closeButton.classList.add('moveRight');
                       });


                       // Leaving "+" icon
                       plusIcon.addEventListener('mouseleave', function() {
                           closeButton.classList.remove('moveRight');
                       });
                   });
               </script>
           </div>
       </div>


       <li><a href="#"><i class="fa fa-search-plus" aria-hidden="true"></i></a></li>
       <li><a href="#"><i class="fa fa-user-circle" aria-hidden="true"></i></a></li>
       <span class="toggleMenu"></span>
   </div>


   <script>
       let toggleMenu = document.querySelector('.toggleMenu');
       let navigation = document.querySelector('.navigation');
       toggleMenu.onclick = function(){
           navigation.classList.toggle('active');
       }
   </script>
 <div class="bottom-navigation">
   <ul>
       <li class="list">
           <a href="#" id="headwearIcon">
               <span class="bottom-icon"></span>
               <img src ="icons/hats-icon.png" height ="25">
               <span class="text">Headwear</span>
           </a>
       </li>


       <li class="list">
           <a href="#" id="topsIcon">
               <span class="bottom-icon">
                   <img src ="icons/hoodie-icon.png" height ="25">
               </span>
               <span class="text">Tops</span>
           </a>
       </li>


       <li class="list">
           <a href="#" id="savedFitsIcon">
               <span class="bottom-icon"></span>
                   <img src ="icons/wardrobe-icon.png" height ="25">
               <span class="text">Saved Fits</span>
           </a>
       </li>


       <li class="list">
           <a href="#" id="bottomsIcon">
               <span class="icons/bottom-icon">
                   <img src ="icons/pants-icon.png" height ="25">
               </span>
               <span class="text">Bottoms</span>
           </a>
       </li>


       <li class="list">
           <a href="#" id="shoesIcon">
               <span class="icons/bottom-icon">
                   <img src ="icons/shoes-icon.png" height ="25">
               </span>
               <span class="text">Shoes</span>
           </a>
       </li>


   </ul>
</div>


<!-- Save Outfit Button -->
<div class="save-outfit-container">
   <button id="saveOutfitButton">Save Current Outfit</button>
</div>




<!-- Headwear Page Section, initially hidden -->
<div id="headwearPage" class="headwear-page">
   <!-- Your headwear content here -->
   <button id="closeHeadwearPage" class="headwear-title">headwear</button>
   <div id="headwearItems" class="headwear-items"></div>
</div>


<script>
   document.addEventListener('DOMContentLoaded', function() {
   const headwearIcon = document.getElementById('headwearIcon');
   const headwearPage = document.getElementById('headwearPage');
   const headwearItemsContainer = document.getElementById('headwearItems');
   const headwearDisplay = document.getElementById('headwear'); // Main display area for headwear
   const closeHeadwearPageBtn = document.getElementById('closeHeadwearPage'); // Close button
  
  
   const headwear = [
       { src: 'defaults/headwear/headwear1.png', name: 'Black Beanie', brand: 'Uniqlo', category: 'headwear' },
       { src: 'defaults/headwear/headwear2.png', name: 'Arc Beanie', brand: 'Arcteryx' , category: 'headwear'},
       { src: 'defaults/headwear/headwear3.png', name: 'NY Hat', brand: 'Lids' , category: 'headwear'},
       { src: 'defaults/headwear/headwear4.png', name: 'Black Arc', brand: 'Arcteryx' , category: 'headwear'}
   ];
  
  
   function populateHeadwearItems() {
       headwear.forEach(item => {
           const itemContainer = document.createElement('div');
           itemContainer.classList.add('headwear-item');
           const img = document.createElement('img');
           img.src = item.src;
           img.alt = item.name;
  
           // Info card with editable fields
           const infoCard = document.createElement('div');
           infoCard.className = 'headwear-info-card';
           infoCard.innerHTML = `
               <p class="headwear-item-info"><strong>Name:</strong> <span class="headwear-item-name" contentEditable="false">${item.name}</span></p>
               <p class="headwear-item-info"><strong>Brand:</strong> <span class="headwear-item-brand" contentEditable="false">${item.brand}</span></p>
               <button class="headwear-edit-btn">Edit</button>
		<button onclick='openDetailsModal(${JSON.stringify(item)})'>Learn More</button>


           `;
  
           // Click event to update the central display when a headwear image is clicked
           img.onclick = () => {
               headwearDisplay.src = img.src;
           };
  
           itemContainer.appendChild(img);
           itemContainer.appendChild(infoCard);
           headwearItemsContainer.appendChild(itemContainer);
  
           // Event for edit/save button
           infoCard.querySelector('.headwear-edit-btn').addEventListener('click', function() {
               const name = infoCard.querySelector('.headwear-item-name');
               const brand = infoCard.querySelector('.headwear-item-brand');
               if (this.innerText === 'Edit') {
                   name.contentEditable = "true";
                   brand.contentEditable = "true";
                   this.innerText = 'Save';
                   name.focus();
               } else {
                   name.contentEditable = "false";
                   brand.contentEditable = "false";
                   this.innerText = 'Edit';
               }
           });
       });
  
       // Fill remaining grid slots with placeholders if necessary
       const itemsCount = headwear.length;
       const totalSlots = 15; // Assuming a 5x3 grid
       const remainingSlots = totalSlots - itemsCount;
       for (let i = 0; i < remainingSlots; i++) {
           const placeholder = document.createElement('div');
           placeholder.classList.add('headwear-placeholder');
           headwearItemsContainer.appendChild(placeholder);
       }
   }
  
   headwearIcon.addEventListener('click', function(e) {
       e.preventDefault();
       headwearPage.classList.toggle('active');
       if (!headwearItemsContainer.hasChildNodes()) {
           populateHeadwearItems();
       }
   });
  
   closeHeadwearPageBtn.addEventListener('click', function() {
       headwearPage.classList.remove('active');
   });
   });
</script>


<!-- Tops Page Section, initially hidden -->
<div id="topsPage" class="tops-page">
    <!-- Your tops content here -->
    <button id="closeTopsPage" class="tops-title">tops</button>
    <div id="topsItems" class="tops-items"></div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const topsIcon = document.getElementById('topsIcon');
        const topsPage = document.getElementById('topsPage');
        const topsItemsContainer = document.getElementById('topsItems');
        const topsDisplay = document.getElementById('tops'); // Main display area for tops
        const closeTopsPageBtn = document.getElementById('closeTopsPage'); // Close button

        const tops = [
            { src: 'defaults/tops/top1.png', name: 'Blue Hoodie', brand: 'Uniqlo', category: 'tops' },
            { src: 'defaults/tops/top2.png', name: 'Green Hoodie', brand: 'Urban', category: 'tops' },
            { src: 'defaults/tops/top3.png', name: 'Grey', brand: 'Pacsun', category: 'tops' },
            { src: 'defaults/tops/top4.png', name: 'Sloodie', brand: 'Iongaf', category: 'tops' },
            { src: 'defaults/tops/top6.png', name: 'Longsleeve', brand: 'Kapital', category: 'tops' }
        ];

        function populateTopsItems() {
            tops.forEach(item => {
                const itemContainer = document.createElement('div');
                itemContainer.classList.add('tops-item');
                const img = document.createElement('img');
                img.src = item.src;
                img.alt = item.name;

                // Info card with editable fields
                const infoCard = document.createElement('div');
                infoCard.className = 'tops-info-card';
                infoCard.innerHTML = `
                    <p class="tops-item-info"><strong>Name:</strong> <span class="tops-item-name" contentEditable="false">${item.name}</span></p>
                    <p class="tops-item-info"><strong>Brand:</strong> <span class="tops-item-brand" contentEditable="false">${item.brand}</span></p>
                    <button class="tops-edit-btn">Edit</button>
                    <button onclick='openDetailsModal(${JSON.stringify(item)})'>Learn More</button>
                `;

                // Click event to update the central display when a top image is clicked
                img.onclick = () => {
                    topsDisplay.src = img.src;
                };

                itemContainer.appendChild(img);
                itemContainer.appendChild(infoCard);
                topsItemsContainer.appendChild(itemContainer);

                // Event for edit/save button
                infoCard.querySelector('.tops-edit-btn').addEventListener('click', function() {
                    const name = infoCard.querySelector('.tops-item-name');
                    const brand = infoCard.querySelector('.tops-item-brand');
                    if (this.innerText === 'Edit') {
                        name.contentEditable = "true";
                        brand.contentEditable = "true";
                        this.innerText = 'Save';
                        name.focus();
                    } else {
                        name.contentEditable = "false";
                        brand.contentEditable = "false";
                        this.innerText = 'Edit';
                    }
                });
            });

            // Fill remaining grid slots with placeholders if necessary
            const itemsCount = tops.length;
            const totalSlots = 15; // Assuming a 5x3 grid
            const remainingSlots = totalSlots - itemsCount;
            for (let i = 0; i < remainingSlots; i++) {
                const placeholder = document.createElement('div');
                placeholder.classList.add('tops-placeholder');
                topsItemsContainer.appendChild(placeholder);
            }
        }

        topsIcon.addEventListener('click', function(e) {
            e.preventDefault();
            topsPage.classList.toggle('active');
            if (!topsItemsContainer.hasChildNodes()) {
                populateTopsItems();
            }
        });

        closeTopsPageBtn.addEventListener('click', function() {
            topsPage.classList.remove('active');
        });
    });
</script>

<!-- Bottoms Page Section, initially hidden -->
<div id="bottomsPage" class="bottoms-page">
    <!-- Your bottoms content here -->
    <button id="closeBottomsPage" class="bottoms-title">bottoms</button>
    <div id="bottomsItems" class="bottoms-items"></div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const bottomsIcon = document.getElementById('bottomsIcon');
        const bottomsPage = document.getElementById('bottomsPage');
        const bottomsItemsContainer = document.getElementById('bottomsItems');
        const bottomsDisplay = document.getElementById('bottoms'); // Main display area for bottoms
        const closeBottomsPageBtn = document.getElementById('closeBottomsPage'); // Close button

        const bottoms = [
            { src: 'defaults/bottoms/bottoms1.png', name: 'Blue', brand: 'Jeans', category: 'bottoms' },
            { src: 'defaults/bottoms/bottoms2.png', name: 'White', brand: 'bottoms', category: 'bottoms' },
            { src: 'defaults/bottoms/bottoms3.png', name: 'Brown', brand: 'Sweats', category: 'bottoms' },
            { src: 'defaults/bottoms/bottoms4.png', name: 'Baggy Pants', brand: 'Bershka', category: 'bottoms' },
            { src: 'defaults/bottoms/bottoms5.png', name: 'Grey', brand: 'Sweats', category: 'bottoms' },
            { src: 'defaults/bottoms/bottoms6.png', name: 'Baggy Pants', brand: 'Bershka', category: 'bottoms' }
        ];

        function populateBottomsItems() {
            bottoms.forEach(item => {
                const itemContainer = document.createElement('div');
                itemContainer.classList.add('bottoms-item');
                const img = document.createElement('img');
                img.src = item.src;
                img.alt = item.name;

                // Info card with editable fields
                const infoCard = document.createElement('div');
                infoCard.className = 'bottoms-info-card';
                infoCard.innerHTML = `
                    <p class="bottoms-item-info"><strong>Name:</strong> <span class="bottoms-item-name" contentEditable="false">${item.name}</span></p>
                    <p class="bottoms-item-info"><strong>Brand:</strong> <span class="bottoms-item-brand" contentEditable="false">${item.brand}</span></p>
                    <button class="bottoms-edit-btn">Edit</button>
                    <button onclick='openDetailsModal(${JSON.stringify(item)})'>Learn More</button>
                `;

                // Click event to update the central display when a bottoms image is clicked
                img.onclick = () => {
                    bottomsDisplay.src = img.src;
                };

                itemContainer.appendChild(img);
                itemContainer.appendChild(infoCard);
                bottomsItemsContainer.appendChild(itemContainer);

                // Event for edit/save button
                infoCard.querySelector('.bottoms-edit-btn').addEventListener('click', function() {
                    const name = infoCard.querySelector('.bottoms-item-name');
                    const brand = infoCard.querySelector('.bottoms-item-brand');
                    if (this.innerText === 'Edit') {
                        name.contentEditable = "true";
                        brand.contentEditable = "true";
                        this.innerText = 'Save';
                        name.focus();
                    } else {
                        name.contentEditable = "false";
                        brand.contentEditable = "false";
                        this.innerText = 'Edit';
                    }
                });
            });

            // Fill remaining grid slots with placeholders if necessary
            const itemsCount = bottoms.length;
            const totalSlots = 15; // Assuming a 5x3 grid
            const remainingSlots = totalSlots - itemsCount;
            for (let i = 0; i < remainingSlots; i++) {
                const placeholder = document.createElement('div');
                placeholder.classList.add('bottoms-placeholder');
                bottomsItemsContainer.appendChild(placeholder);
            }
        }

        bottomsIcon.addEventListener('click', function(e) {
            e.preventDefault();
            bottomsPage.classList.toggle('active');
            if (!bottomsItemsContainer.hasChildNodes()) {
                populateBottomsItems();
            }
        });

        closeBottomsPageBtn.addEventListener('click', function() {
            bottomsPage.classList.remove('active');
        });
    });
</script>


<!-- Shoes Page Section, initially hidden -->
<div id="shoesPage" class="shoes-page">
   <!-- Your shoes content here -->
   <button id="closeShoesPage" class="shoes-title">shoes</button>
   <div id="shoesItems" class="shoes-items"></div>
</div>


<script>


   document.addEventListener('DOMContentLoaded', function() {
   const shoesIcon = document.getElementById('shoesIcon');
   const shoesPage = document.getElementById('shoesPage');
   const shoesItemsContainer = document.getElementById('shoesItems');
   const shoesDisplay = document.getElementById('shoes'); // Main display area for bottoms
   const closeShoesPageBtn = document.getElementById('closeShoesPage'); // Close button


   const shoes = [
       { src: 'defaults/shoes/shoes1.png', name: 'Sambas', brand: 'Adidas', category: 'shoes' },
       { src: 'defaults/shoes/shoes2.png', name: '550s', brand: 'New Balance', category: 'shoes' },
       { src: 'defaults/shoes/shoes3.png', name: 'Slippers', brand: 'Uggs', category: 'shoes' }
   ];


   function populateShoesItems() {
       shoes.forEach(item => {
           const itemContainer = document.createElement('div');
           itemContainer.classList.add('shoes-item');
           const img = document.createElement('img');
           img.src = item.src;
           img.alt = item.name;
           // Info card with editable fields
           const infoCard = document.createElement('div');
           infoCard.className = 'shoes-info-card';
           infoCard.innerHTML = `
               <p class="shoes-item-info"><strong>Name:</strong> <span class="shoes-item-name" contentEditable="false">${item.name}</span></p>
               <p class="shoes-item-info"><strong>Brand:</strong> <span class="shoes-item-brand" contentEditable="false">${item.brand}</span></p>
               <button class="shoes-edit-btn">Edit</button>
		  <button onclick='openDetailsModal(${JSON.stringify(item)})'>Learn More</button>


           `;


           // Click event to update the central display when a bottoms image is clicked
           img.onclick = () => {
               shoesDisplay.src = img.src;
           };


           itemContainer.appendChild(img);
           itemContainer.appendChild(infoCard);
           shoesItemsContainer.appendChild(itemContainer);


           // Event for edit/save button
           infoCard.querySelector('.shoes-edit-btn').addEventListener('click', function() {
               const name = infoCard.querySelector('.shoes-item-name');
               const brand = infoCard.querySelector('.shoes-item-brand');
               if (this.innerText === 'Edit') {
                   name.contentEditable = "true";
                   brand.contentEditable = "true";
                   this.innerText = 'Save';
                   name.focus();
               } else {
                   name.contentEditable = "false";
                   brand.contentEditable = "false";
                   this.innerText = 'Edit';
               }
           });
       });


       // Fill remaining grid slots with placeholders if necessary
       const itemsCount = bottoms.length;
       const totalSlots = 15; // Assuming a 5x3 grid
       const remainingSlots = totalSlots - itemsCount;
       for (let i = 0; i < remainingSlots; i++) {
           const placeholder = document.createElement('div');
           placeholder.classList.add('shoes-placeholder');
           shoesItemsContainer.appendChild(placeholder);
       }
   }
  
   shoesIcon.addEventListener('click', function(e) {
       e.preventDefault();
       shoesPage.classList.toggle('active');
       if (!shoesItemsContainer.hasChildNodes()) {
           populateShoesItems();
       }
   });


   closeShoesPageBtn.addEventListener('click', function() {
       shoesPage.classList.remove('active');
   });
   });
</script>


<!-- Saved Fits Page Section with Playlist -->
<div id="savedFitsPage" class="saved-fits-page">


   <!-- Close button at the top center -->
   <button id="closeSavedFitsPage" class="saved-fits-title">saved fits</button>


   <!-- Create Playlist Button -->
   <button id="createPlaylistButton" class="create-playlist-btn">Create Playlist</button>


   <!-- Container for all playlists, initially empty -->
   <div id="playlistsContainer" class="playlists-container"></div>


   <!-- Playlist Display for outfits -->
   <div id="playlistDisplay" class="playlist-display">
       <!-- The big square for the outfit display -->
       <div id="outfitDisplay" class="outfit-display"></div>


       <!-- Playback controls -->
       <div class="playlist-controls">
           <button id="prevOutfit" class="control-btn">Prev</button>
           <button id="playOutfit" class="control-btn">Play</button>
           <button id="nextOutfit" class="control-btn">Next</button>
       </div>
   </div>


   <!-- Container for displaying saved outfits -->
   <div id="savedFitsItems" class="saved-fits-items"></div>
</div>
 <script>
   document.addEventListener('DOMContentLoaded', function() {
       // Save Current Outfit Button
       const saveOutfitButton = document.getElementById('saveOutfitButton');
       const headwearDisplay = document.getElementById('headwear');
       const topsDisplay = document.getElementById('tops');
       const bottomsDisplay = document.getElementById('bottoms');
       const shoesDisplay = document.getElementById('shoes');


       // Handle saving the current outfit
       saveOutfitButton.addEventListener('click', function() {
           const savedOutfits = JSON.parse(sessionStorage.getItem('savedOutfits')) || [];
           const currentOutfit = {
               headwear: headwearDisplay.src,
               hoodie: topsDisplay.src,
               bottoms: bottomsDisplay.src,
               shoes: shoesDisplay.src
           };
           savedOutfits.push(currentOutfit);
           sessionStorage.setItem('savedOutfits', JSON.stringify(savedOutfits));
           alert('Outfit saved successfully!'); // Optional: feedback to the user
       });


       // Display saved outfits
       const savedFitsItemsContainer = document.getElementById('savedFitsItems');
       const savedFitsIcon = document.getElementById('savedFitsIcon');
       const savedFitsPage = document.getElementById('savedFitsPage');
       const closeSavedFitsPageBtn = document.getElementById('closeSavedFitsPage');


       // Toggle saved fits page
       savedFitsIcon.addEventListener('click', function(e) {
           e.preventDefault();
           savedFitsPage.classList.toggle('active');
           displaySavedFits();
       });


       // Close the saved fits page
       closeSavedFitsPageBtn.addEventListener('click', function() {
           savedFitsPage.classList.remove('active');
       });


       // Use event delegation for handling clicks on dynamic elements
       savedFitsItemsContainer.addEventListener('click', function(event) {
           const target = event.target;


           // Handle deletion of a fit
           if (target.classList.contains('fit-delete')) {
               const index = target.getAttribute('data-index');
               deleteFit(index);
               event.stopPropagation(); // Prevent further propagation of the click event
           }
       });
       // Add a separate listener for clicking the fit container to update the display
       savedFitsItemsContainer.addEventListener('click', function(event) {
           if (event.target.closest('.fit-item') && !event.target.classList.contains('fit-delete')) {
               // Extract the fit container
               const outfit = event.target.closest('.fit-item');
               updateDisplay(outfit);
           }
       });


       function deleteFit(index) {
       let savedFits = JSON.parse(sessionStorage.getItem('savedOutfits')) || [];
       savedFits.splice(index, 1);  // Remove the item at the specified index
       sessionStorage.setItem('savedOutfits', JSON.stringify(savedFits)); // Update sessionStorage
       displaySavedFits(); // Refresh the display of saved fits
       }


       // Function to handle adding an outfit to the playlist
       function addToPlaylist(outfit) {
           // Assuming 'playlist' is an array holding your playlist outfits in session storage
           const playlist = JSON.parse(sessionStorage.getItem('playlist')) || [];
           playlist.push(outfit);
           sessionStorage.setItem('playlist', JSON.stringify(playlist));
           alert('Added to playlist!'); // Optional: Provide user feedback
       }


       // Function to display saved fits
       function displaySavedFits() {
           const savedFitsItemsContainer = document.getElementById('savedFitsItems');
           savedFitsItemsContainer.innerHTML = ''; // Clear previous content
           const savedOutfits = JSON.parse(sessionStorage.getItem('savedOutfits')) || [];
           // Calculate remaining slots to fill with placeholders


           const totalSlots = 15; // Total slots in a 5x3 grid
           const remainingSlots = totalSlots - savedOutfits.length;
           savedOutfits.forEach((fit, index) => {
               const fitContainer = document.createElement('div');
               fitContainer.classList.add('fit-item');
               // Add image elements for each part of the outfit
               fitContainer.innerHTML = `
                   <div class="fit-delete" onclick="deleteFit(${index})">X</div>
                   <img src="${fit.headwear}" alt="Headwear" style="height: 30px; width: auto;">
                   <img src="${fit.hoodie}" alt="Hoodie" style="height: 70px; width: auto;">
                   <img src="${fit.bottoms}" alt="bottoms" style="height: 80px; width: auto;">
                   <img src="${fit.shoes}" alt="Shoes" style="height: 40px; width: auto;">
               `;
               const addToPlaylistButton = document.createElement('button');
               addToPlaylistButton.classList.add('add-to-playlist-btn');
               addToPlaylistButton.textContent = '+';
               addToPlaylistButton.onclick = () => addToPlaylist(fit); // Add the current outfit to the playlist
               fitContainer.appendChild(addToPlaylistButton);
               savedFitsItemsContainer.appendChild(fitContainer);
               // Add click event listener to update the current display
               fitContainer.addEventListener('click', () => {
                   document.getElementById('headwear').src = fit.headwear;
                   document.getElementById('tops').src = fit.hoodie;
                   document.getElementById('bottoms').src = fit.bottoms;
                   document.getElementById('shoes').src = fit.shoes;
               });


               // Optional: Highlight on hover to indicate clickable
               fitContainer.addEventListener('mouseover', () => {
                   fitContainer.style.cursor = 'pointer';
                   fitContainer.style.boxShadow = '0 4px 8px rgba(0,0,0,0.3)';
               });
               fitContainer.addEventListener('mouseout', () => {
                   fitContainer.style.boxShadow = '0 2px 4px rgba(0,0,0,0.1)';
               });
           });
       }
       // Playlist functionality
       let playing = false;
       let currentOutfitIndex = 0;
       let playlistInterval;


       const playButton = document.getElementById('playOutfit');
       const prevButton = document.getElementById('prevOutfit');
       const nextButton = document.getElementById('nextOutfit');
       const outfitDisplay = document.getElementById('outfitDisplay');
       const savedOutfits = JSON.parse(sessionStorage.getItem('savedOutfits')) || [];


       // Function to display an outfit in the playlist display
       function displayOutfit(index) {
           const outfit = savedOutfits[index];
           outfitDisplay.innerHTML = `
               <img src="${outfit.headwear}" alt="Headwear" style="height: 30px; width: auto;">
               <img src="${outfit.hoodie}" alt="Hoodie" style="height: 70px; width: auto;">
               <img src="${outfit.bottoms}" alt="bottoms" style="height: 80px; width: auto;">
               <img src="${outfit.shoes}" alt="Shoes" style="height: 40px; width: auto;">
           `;
       }


       playButton.addEventListener('click', () => {
           playing = !playing;
           playButton.textContent = playing ? 'Pause' : 'Play';
           if (playing) {
               playlistInterval = setInterval(() => {
                   currentOutfitIndex = (currentOutfitIndex + 1) % savedOutfits.length;
                   displayOutfit(currentOutfitIndex);
               }, 2000); // Change outfits every 2 seconds
           } else {
               clearInterval(playlistInterval);
           }
       });


       prevButton.addEventListener('click', () => {
           currentOutfitIndex = (currentOutfitIndex - 1 + savedOutfits.length) % savedOutfits.length;
           displayOutfit(currentOutfitIndex);
       });


       nextButton.addEventListener('click', () => {
           currentOutfitIndex = (currentOutfitIndex + 1) % savedOutfits.length;
           displayOutfit(currentOutfitIndex);
       });


       // Initially display the first outfit
       if (savedOutfits.length > 0) {
           displayOutfit(0);
       }
   });
</script>


<script>
   document.addEventListener('DOMContentLoaded', function() {
       const createPlaylistButton = document.getElementById('createPlaylistButton');
       const playlistsContainer = document.getElementById('playlistsContainer');
       let playlists = JSON.parse(sessionStorage.getItem('playlists')) || [];


       function createPlaylistDisplay(playlistIndex) {
           let playlistDisplay = document.createElement('div');
           playlistDisplay.classList.add('playlist-display');


           let outfitDisplay = document.createElement('div');
           outfitDisplay.classList.add('outfit-display');
           outfitDisplay.id = `outfitDisplay${playlistIndex}`;


           // Add delete button directly to the outfit display for better positioning
           let deleteButton = document.createElement('button');
           deleteButton.textContent = 'X';
           deleteButton.classList.add('delete-playlist-btn');
           deleteButton.onclick = function() { deletePlaylist(playlistIndex); };
           outfitDisplay.appendChild(deleteButton);  // Add the delete button to the outfit display


           let controls = document.createElement('div');
           controls.classList.add('playlist-controls');


           let prevButton = document.createElement('button');
           prevButton.classList.add('control-btn');
           prevButton.textContent = 'Prev';


           let playButton = document.createElement('button');
           playButton.classList.add('control-btn');
           playButton.textContent = 'Play';
           let playing = false;
           playButton.addEventListener('click', () => {
               playing = !playing;
               playButton.textContent = playing ? 'Pause' : 'Play';
               if (playing) {
                   playlistInterval = setInterval(() => {
                       currentOutfitIndex = (currentOutfitIndex + 1) % savedOutfits.length;
                       displayOutfit(currentOutfitIndex);
                   }, 2000); // Change outfits every 2 seconds
               } else {
                   clearInterval(playlistInterval);
               }
           });


           let nextButton = document.createElement('button');
           nextButton.classList.add('control-btn');
           nextButton.textContent = 'Next';


           controls.appendChild(prevButton);
           controls.appendChild(playButton);
           controls.appendChild(nextButton);


           playlistDisplay.appendChild(outfitDisplay);
           playlistDisplay.appendChild(controls);


           return playlistDisplay;
       }


       function displayPlaylists() {
           playlistsContainer.innerHTML = '';
           playlists.forEach((playlist, index) => {
               let playlistDisplay = createPlaylistDisplay(index);
               playlistsContainer.appendChild(playlistDisplay);
           });
       }


       function deletePlaylist(index) {
           playlists.splice(index, 1); // Remove the playlist from the array
           sessionStorage.setItem('playlists', JSON.stringify(playlists)); // Update sessionStorage
           displayPlaylists(); // Redraw the playlists
       }


       createPlaylistButton.addEventListener('click', function() {
           playlists.push({}); // Assuming each playlist is an object
           sessionStorage.setItem('playlists', JSON.stringify(playlists));
           displayPlaylists();
       });


       displayPlaylists();
   });
</script>


<!-- Universal Details Modal -->
<div id="detailsModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <div class="modal-body">
            <div class="modal-left-column">
                <img id="modalImage" src="" alt="Item Image">
                <div class="modal-info-box">
                    <p><strong>Name:</strong> <span id="modalName"></span></p>
                    <p><strong>Brand:</strong> <span id="modalBrand"></span></p>
                    <div><strong>Category:</strong> <span id="modalCategory"></span></div>
                </div>
            </div>
            <div class="outfit-preview">
                <!-- Outfit components that dynamically change except the category of the modal item -->
                <img id="modalHeadwear" src="" alt="Headwear" class="outfit-item">
                <img id="modalTop" src="" alt="Top" class="outfit-item">
                <img id="modalBottom" src="" alt="Bottom" class="outfit-item">
                <img id="modalShoes" src="" alt="Shoes" class="outfit-item">
            </div>
        </div>
        <div id="modalDescription">
            <h3 id="modalName"></h3>
            <p id="modalBrand"></p>
            <p id="modalCategory"></p>
        </div>
        <button id="suggestedOutfitButton" onclick="generateSuggestedOutfitModal()">Generate Suggested Outfit</button>
    </div>
</div>
<script>
    // Function to open the details modal with item details
    function openDetailsModal(item) {
        console.log("Item received:", item);

        // Debugging the category
        console.log("Category:", item.category);

        const headwear = [
            { src: 'defaults/headwear/headwear1.png', name: 'Black Beanie', brand: 'Uniqlo', category: 'headwear' },
            { src: 'defaults/headwear/headwear2.png', name: 'Arc Beanie', brand: 'Arcteryx', category: 'headwear' },
            { src: 'defaults/headwear/headwear3.png', name: 'NY Hat', brand: 'Lids', category: 'headwear' },
            { src: 'defaults/headwear/headwear4.png', name: 'Black Arc', brand: 'Arcteryx', category: 'headwear' }
        ];

        const tops = [
            { src: 'defaults/tops/top1.png', name: 'Blue Hoodie', brand: 'Uniqlo', category: 'top' },
            { src: 'defaults/tops/top2.png', name: 'Green Hoodie', brand: 'Urban', category: 'top' },
            { src: 'defaults/tops/top3.png', name: 'Grey', brand: 'Pacsun', category: 'top' },
            { src: 'defaults/tops/top4.png', name: 'Sloodie', brand: 'Iongaf', category: 'top' },
            { src: 'defaults/tops/top6.png', name: 'Longsleeve', brand: 'Kapital', category: 'top' }
        ];

        const bottoms = [
            { src: 'defaults/bottoms/bottoms1.png', name: 'Blue', brand: 'Jeans', category: 'bottom' },
            { src: 'defaults/bottoms/bottoms2.png', name: 'White', brand: 'Bottoms', category: 'bottom' },
            { src: 'defaults/bottoms/bottoms3.png', name: 'Brown', brand: 'Sweats', category: 'bottom' },
            { src: 'defaults/bottoms/bottoms4.png', name: 'Baggy Pants', brand: 'Bershka', category: 'bottom' },
            { src: 'defaults/bottoms/bottoms5.png', name: 'Grey', brand: 'Sweats', category: 'bottom' },
            { src: 'defaults/bottoms/bottoms6.png', name: 'Baggy Pants', brand: 'Bershka', category: 'bottom' }
        ];

        const shoes = [
            { src: 'defaults/shoes/shoes1.png', name: 'Sambas', brand: 'Adidas', category: 'shoes' },
            { src: 'defaults/shoes/shoes2.png', name: '550s', brand: 'New Balance', category: 'shoes' },
            { src: 'defaults/shoes/shoes3.png', name: 'Slippers', brand: 'Uggs', category: 'shoes' }
        ];

        const modal = document.getElementById('detailsModal');
        const modalImage = document.getElementById('modalImage');
        const modalHeadwear = document.getElementById('modalHeadwear');
        const modalTop = document.getElementById('modalTop');
        const modalBottom = document.getElementById('modalBottom');
        const modalShoes = document.getElementById('modalShoes');

        // Setting the clicked item as the modal image
        modalImage.src = item.src;
        document.getElementById('modalName').textContent = item.name;
        document.getElementById('modalBrand').textContent = item.brand;
        document.getElementById('modalCategory').textContent = item.category; // Set the category

        // Function to add lock icon
        function addLockIcon(element) {
            // Remove existing lock icons
            document.querySelectorAll('.lock-icon').forEach(lock => lock.remove());

            const lockIcon = document.createElement("span");
            lockIcon.textContent = "\uD83D\uDD12"; // Unicode lock icon
            lockIcon.className = 'lock-icon';
            lockIcon.style.color = "red";
            lockIcon.style.fontSize = "1.5rem";
            lockIcon.style.position = "absolute";
            lockIcon.style.top = "-10px";
            lockIcon.style.right = "-10px";
            lockIcon.style.zIndex = "10";

            const container = document.createElement("div");
            container.style.position = "relative";
            container.style.display = "inline-block";

            container.appendChild(element.cloneNode(true));
            container.appendChild(lockIcon);
            element.parentNode.replaceChild(container, element);
        }

        // Depending on the category of the item, set the image sources and add lock icon
        switch (item.category) {
            case 'headwear':
                modalHeadwear.src = item.src;  // Keep headwear same
                addLockIcon(modalHeadwear);
                modalTop.src = tops[0].src;
                modalBottom.src = bottoms[0].src;
                modalShoes.src = shoes[0].src;
                break;
            case 'tops':
                modalHeadwear.src = headwear[0].src;
                modalTop.src = item.src;  // Keep top same
                addLockIcon(modalTop);
                modalBottom.src = bottoms[0].src;
                modalShoes.src = shoes[0].src;
                break;
            case 'bottoms':
                modalHeadwear.src = headwear[0].src;
                modalTop.src = tops[0].src;
                modalBottom.src = item.src;  // Keep bottom same
                addLockIcon(modalBottom);
                modalShoes.src = shoes[0].src;
                break;
            case 'shoes':
                modalHeadwear.src = headwear[0].src;
                modalTop.src = tops[0].src;
                modalBottom.src = bottoms[0].src;
                modalShoes.src = item.src;  // Keep shoes same
                addLockIcon(modalShoes);
                break;
            default:
                console.error('Invalid category:', item.category);
                break;
        }

        modal.style.display = "block";
    }

    // Function to generate a suggested outfit based on the current modal item
    function generateSuggestedOutfitModal() {
        // Arrays of available outfit pieces
        const headwearOptions = ['defaults/headwear/headwear1.png', 'defaults/headwear/headwear2.png', 'defaults/headwear/headwear3.png', 'defaults/headwear/headwear4.png'];
        const topsOptions = ['defaults/tops/top1.png', 'defaults/tops/top2.png', 'defaults/tops/top3.png', 'defaults/tops/top4.png', 'defaults/tops/top6.png'];
        const bottomsOptions = ['defaults/bottoms/bottoms1.png', 'defaults/bottoms/bottoms2.png', 'defaults/bottoms/bottoms3.png', 'defaults/bottoms/bottoms4.png', 'defaults/bottoms/bottoms5.png', 'defaults/bottoms/bottoms6.png'];
        const shoesOptions = ['defaults/shoes/shoes1.png', 'defaults/shoes/shoes2.png', 'defaults/shoes/shoes3.png'];

        // Get the current displayed items in the modal
        const currentModalHeadwear = document.getElementById('modalHeadwear').src;
        const currentModalTop = document.getElementById('modalTop').src;
        const currentModalBottom = document.getElementById('modalBottom').src;
        const currentModalShoes = document.getElementById('modalShoes').src;

        // Function to get a random item from an array
        function getRandomItem(arr, currentItem) {
            let randomItem;
            do {
                randomItem = arr[Math.floor(Math.random() * arr.length)];
            } while (randomItem === currentItem);
            return randomItem;
        }

        // Determine which item is the source and randomize the others
        const modalCategory = document.getElementById('modalCategory').innerText.trim().toLowerCase();

        if (modalCategory === 'headwear') {
            document.getElementById('modalTop').src = getRandomItem(topsOptions, currentModalTop);
            document.getElementById('modalBottom').src = getRandomItem(bottomsOptions, currentModalBottom);
            document.getElementById('modalShoes').src = getRandomItem(shoesOptions, currentModalShoes);
        } else if (modalCategory === 'top' || modalCategory == 'tops') {
            document.getElementById('modalHeadwear').src = getRandomItem(headwearOptions, currentModalHeadwear);
            document.getElementById('modalBottom').src = getRandomItem(bottomsOptions, currentModalBottom);
            document.getElementById('modalShoes').src = getRandomItem(shoesOptions, currentModalShoes);
        } else if (modalCategory === 'bottom' || modalCategory == 'bottoms') {
            document.getElementById('modalHeadwear').src = getRandomItem(headwearOptions, currentModalHeadwear);
            document.getElementById('modalTop').src = getRandomItem(topsOptions, currentModalTop);
            document.getElementById('modalShoes').src = getRandomItem(shoesOptions, currentModalShoes);
        } else if (modalCategory === 'shoes') {
            document.getElementById('modalHeadwear').src = getRandomItem(headwearOptions, currentModalHeadwear);
            document.getElementById('modalTop').src = getRandomItem(topsOptions, currentModalTop);
            document.getElementById('modalBottom').src = getRandomItem(bottomsOptions, currentModalBottom);
        }
    }

    // Event listener for modal close button
    document.querySelectorAll('.close').forEach(closeButton => {
        closeButton.onclick = function() {
            this.parentElement.parentElement.style.display = "none";
        }
    });

    // Event listener for window click to close modal
    window.onclick = function(event) {
        if (event.target.className === 'modal') {
            event.target.style.display = "none";
        }
    }
</script>


 
 
</div>

</body>
</html>

