<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


<!DOCTYPE html>
<html lang="en">


<html>
   <head>
       <meta charset = "utf-8">
       <meta name = "viewport" content = "width = device-width, initial-scale = 1">
       <link rel="stylesheet" href="styles.css">
       <title>PerfectFit</title>
   </head>
<body>


<!--Sets default sources for images-->


<div class="container">
   <p class="text">PerfectFit</p>
</div>


<div class="headwear">
   <img src="defaults/headwear/headwear1.png" id="headwear" height="80"/>
</div>


<div class="hoodie">
   <img src="defaults/tops/top1.png" id="tops" height="250"/>
</div>


<div class="pant">
   <img src="defaults/bottoms/bottoms1.png" id="bottoms" height="350">
</div>


<div class="shoes">
   <img src="defaults/shoes/shoes1.png" id="shoes" height="90">
</div>


<!--HEADWEAR BUTTONS-->


<div class="headwearNextButton">
   <button onclick="nextButtonClick('headwear')" style="font-size: 25px; background-color: white;">></button>
</div>


<div class="headwearPrevButton">
   <button onclick="prevButtonClick('headwear')" style="font-size: 25px; background-color: white;"><</button>
</div>


<!--HOODIE BUTTONS-->


<div class="hoodieNextButton">
   <button onclick="nextButtonClick('tops')" style="font-size: 25px; background-color: white;">></button>
</div>




<div class="hoodiePrevButton">
   <button onclick="prevButtonClick('tops')" style="font-size: 25px; background-color: white;"><</button>
</div>




<!--bottoms BUTTONS-->


<div class="bottomsNextButton">
   <button onclick="nextButtonClick('bottoms')" style="font-size: 25px; background-color: white;">></button>
</div>


<div class="bottomsPrevButton">
   <button onclick="prevButtonClick('bottoms')" style="font-size: 25px; background-color: white;"><</button>
</div>


<!--SHOES BUTTONS-->


<div class="shoesNextButton">
   <button onclick="nextButtonClick('shoes')" style="font-size: 25px; background-color: white;">></button>
</div>


<div class="shoesPrevButton">
   <button onclick="prevButtonClick('shoes')" style="font-size: 25px; background-color: white;"><</button>
</div>




<div class="container">
   <p class="text">PerfectFit</p>
</div>


<!--Javascript functions to change the source of picture of the garment-->
<script type="text/javascript">


   let headwear_index = 0;
   let hoodie_index = 0;
   let bottoms_index = 0;
   let shoes_index = 0;


   const headwear = ['defaults/headwear/headwear1.png', 'defaults/headwear/headwear2.png', 'defaults/headwear/headwear3.png','defaults/headwear/headwear4.png'];
   const tops = ['defaults/tops/top1.png', 'defaults/tops/top2.png', 'defaults/tops/top3.png', 'defaults/tops/top4.png','defaults/tops/top6.png' ];
   const bottoms = ['defaults/bottoms/bottoms1.png', 'defaults/bottoms/bottoms2.png', 'defaults/bottoms/bottoms3.png','defaults/bottoms/bottoms4.png', 'defaults/bottoms/bottoms5.png', 'defaults/bottoms/bottoms6.png'];
   const shoes = ['defaults/shoes/shoes1.png', 'defaults/shoes/shoes2.png', 'defaults/shoes/shoes3.png'];


   //Function to move to next item in list
   function nextButtonClick(id) {
       if (id == 'headwear') {
       headwear_index = (headwear_index + 1) % headwear.length; // Loop back to start
       document.getElementById(id).src = headwear[headwear_index];
       }


       if (id == 'tops') {
       hoodie_index = (hoodie_index + 1) % tops.length; // Loop back to start
       document.getElementById(id).src = tops[hoodie_index];
       }


       if (id == 'bottoms') {
       bottoms_index = (bottoms_index + 1) % bottoms.length; // Loop back to start
       document.getElementById(id).src = bottoms[bottoms_index];
       }


       if (id == 'shoes') {
       shoes_index = (shoes_index + 1) % shoes.length; // Loop back to start
       document.getElementById(id).src = shoes[shoes_index];
       }
   }


   //Function to move to previous item in list
   function prevButtonClick(id) {
       if (id == 'headwear') {
       headwear_index = (headwear_index - 1 + headwear.length) % headwear.length; // Loop back to end
       document.getElementById(id).src = headwear[headwear_index];
       }


       if (id == 'tops') {
       hoodie_index = (hoodie_index - 1 + tops.length) % tops.length; // Loop back to end
       document.getElementById(id).src = tops[hoodie_index];
       }


       if (id == 'bottoms') {
       bottoms_index = (bottoms_index - 1 + bottoms.length) % bottoms.length; // Loop back to end
       document.getElementById(id).src = bottoms[bottoms_index];
       }


       if (id == 'shoes') {
       shoes_index = (shoes_index - 1 + shoes.length) % shoes.length; // Loop back to end
       document.getElementById(id).src = shoes[shoes_index];
       }
   }
</script>


<div id="display"></div>


<div id="myModal" class="modal">
   <!-- Modal content -->
   <div class="modal-content">
       <span class="close">&times;</span>
       <form>
           <input id="pinterestUsername" placeholder="Username" type="text">
           <input id="pinterestPassword" placeholder="Password" type="text">
       </form>
       <button onclick="openWindow('pinterest')">Sign In</button>
       <div id="buttonContainer"></div>
   </div>
</div>


<title> Animated Navigation Menu</title>


   <!--TOP RIGHT NAVIGATION BAR-->
   <div class="navigation">


       <li><a href="#"><i class="fa fa-home" aria-hidden="true"></i></a></li>


       <div class="dropdown">
           <li>
               <a href="#">
                   <label>
                       <label class="fa fa-plus" aria-hidden="true"></label>
                   </label>
               </a>
           </li>


           <div class="dropdown-menu">


               <form onchange="submitForm(event, 'headwear')" style="display:none" id="headwearImageForm" enctype="multipart/form-data">
                   <input type="file" id="headwearImageUpload" style="display:none" accept="image/png, image/jpg" multiple>
               </form>


               <form onchange="submitForm(event, 'tops')" style="display:none" id="topsImageForm" enctype="multipart/form-data">
                   <input type="file" id="topsImageUpload" style="display:none" accept="image/png, image/jpg" multiple>
               </form>


               <form onchange="submitForm(event, 'bottoms')" style="display:none" id="bottomsImageForm" enctype="multipart/form-data"></form>
                   <input type="file" id="bottomsImageUpload" style="display:none" accept="image/png, image/jpg" multiple>
               </form>


               <label for="headwearImageUpload">Headwear</label>
               <label for="topsImageUpload">Tops</label>
               <label for="bottomsImageUpload">Bottoms</label>
               <button id="pinterest-login">Pinterest</button>


               <script src="bgrem.js"></script>
               <script src="webscrape.js"></script>


               <!--Moves X Button when dropdown occurs-->
               <script>
                   document.addEventListener('DOMContentLoaded', function() {
                       const plusIcon = document.querySelector('.dropdown'); // Assuming this is where your "+" icon is
                       const closeButton = document.querySelector('.toggleMenu'); // Assuming this is your "X" button
                           // Hover over "+" icon
                           plusIcon.addEventListener('mouseenter', function() {
                           closeButton.classList.add('moveRight');
                       });


                       // Leaving "+" icon
                       plusIcon.addEventListener('mouseleave', function() {
                           closeButton.classList.remove('moveRight');
                       });
                   });
               </script>
           </div>
       </div>


       <li><a href="#"><i class="fa fa-search-plus" aria-hidden="true"></i></a></li>
       <li><a href="#"><i class="fa fa-user-circle" aria-hidden="true"></i></a></li>
       <span class="toggleMenu"></span>
   </div>


   <script>
       let toggleMenu = document.querySelector('.toggleMenu');
       let navigation = document.querySelector('.navigation');
       toggleMenu.onclick = function(){
           navigation.classList.toggle('active');
       }
   </script>
 <div class="bottom-navigation">
   <ul>
       <li class="list">
           <a href="#" id="headwearIcon">
               <span class="bottom-icon"></span>
               <img src ="icons/hats-icon.png" height ="25">
               <span class="text">Headwear</span>
           </a>
       </li>


       <li class="list">
           <a href="#" id="topsIcon">
               <span class="bottom-icon">
                   <img src ="icons/hoodie-icon.png" height ="25">
               </span>
               <span class="text">Tops</span>
           </a>
       </li>


       <li class="list">
           <a href="#" id="savedFitsIcon">
               <span class="bottom-icon"></span>
                   <img src ="icons/wardrobe-icon.png" height ="25">
               <span class="text">Saved Fits</span>
           </a>
       </li>


       <li class="list">
           <a href="#" id="bottomsIcon">
               <span class="icons/bottom-icon">
                   <img src ="icons/pants-icon.png" height ="25">
               </span>
               <span class="text">Bottoms</span>
           </a>
       </li>


       <li class="list">
           <a href="#" id="shoesIcon">
               <span class="icons/bottom-icon">
                   <img src ="icons/shoes-icon.png" height ="25">
               </span>
               <span class="text">Shoes</span>
           </a>
       </li>


   </ul>
</div>


<!-- Save Outfit Button -->
<div class="save-outfit-container">
   <button id="saveOutfitButton">Save Current Outfit</button>
</div>




<!-- Headwear Page Section, initially hidden -->
<div id="headwearPage" class="headwear-page">
   <!-- Your headwear content here -->
   <button id="closeHeadwearPage" class="headwear-title">headwear</button>
   <div id="headwearItems" class="headwear-items"></div>
</div>


<script>
   document.addEventListener('DOMContentLoaded', function() {
   const headwearIcon = document.getElementById('headwearIcon');
   const headwearPage = document.getElementById('headwearPage');
   const headwearItemsContainer = document.getElementById('headwearItems');
   const headwearDisplay = document.getElementById('headwear'); // Main display area for headwear
   const closeHeadwearPageBtn = document.getElementById('closeHeadwearPage'); // Close button
  
  
   const headwear = [
       { src: 'defaults/headwear/headwear1.png', name: 'Black Beanie', brand: 'Uniqlo' },
       { src: 'defaults/headwear/headwear2.png', name: 'Arc Beanie', brand: 'Arcteryx' },
       { src: 'defaults/headwear/headwear3.png', name: 'NY Hat', brand: 'Lids' },
       { src: 'defaults/headwear/headwear4.png', name: 'Black Arc', brand: 'Arcteryx' }
   ];
  
  
   function populateHeadwearItems() {
       headwear.forEach(item => {
           const itemContainer = document.createElement('div');
           itemContainer.classList.add('headwear-item');
           const img = document.createElement('img');
           img.src = item.src;
           img.alt = item.name;
  
           // Info card with editable fields
           const infoCard = document.createElement('div');
           infoCard.className = 'headwear-info-card';
           infoCard.innerHTML = `
               <p class="headwear-item-info"><strong>Name:</strong> <span class="headwear-item-name" contentEditable="false">${item.name}</span></p>
               <p class="headwear-item-info"><strong>Brand:</strong> <span class="headwear-item-brand" contentEditable="false">${item.brand}</span></p>
               <button class="headwear-edit-btn">Edit</button>
		<button onclick='openDetailsModal(${JSON.stringify(item)})'>Learn More</button>


           `;
  
           // Click event to update the central display when a headwear image is clicked
           img.onclick = () => {
               headwearDisplay.src = img.src;
           };
  
           itemContainer.appendChild(img);
           itemContainer.appendChild(infoCard);
           headwearItemsContainer.appendChild(itemContainer);
  
           // Event for edit/save button
           infoCard.querySelector('.headwear-edit-btn').addEventListener('click', function() {
               const name = infoCard.querySelector('.headwear-item-name');
               const brand = infoCard.querySelector('.headwear-item-brand');
               if (this.innerText === 'Edit') {
                   name.contentEditable = "true";
                   brand.contentEditable = "true";
                   this.innerText = 'Save';
                   name.focus();
               } else {
                   name.contentEditable = "false";
                   brand.contentEditable = "false";
                   this.innerText = 'Edit';
               }
           });
       });
  
       // Fill remaining grid slots with placeholders if necessary
       const itemsCount = headwear.length;
       const totalSlots = 15; // Assuming a 5x3 grid
       const remainingSlots = totalSlots - itemsCount;
       for (let i = 0; i < remainingSlots; i++) {
           const placeholder = document.createElement('div');
           placeholder.classList.add('headwear-placeholder');
           headwearItemsContainer.appendChild(placeholder);
       }
   }
  
   headwearIcon.addEventListener('click', function(e) {
       e.preventDefault();
       headwearPage.classList.toggle('active');
       if (!headwearItemsContainer.hasChildNodes()) {
           populateHeadwearItems();
       }
   });
  
   closeHeadwearPageBtn.addEventListener('click', function() {
       headwearPage.classList.remove('active');
   });
   });
</script>


<!-- tops Page Section, initially hidden -->
<div id="topsPage" class="tops-page">
   <!-- Your tops content here -->
   <button id="closetopsPage" class="tops-title">tops</button>
   <div id="topsItems" class="tops-items"></div>
</div>


<script>
   document.addEventListener('DOMContentLoaded', function() {
   const topsIcon = document.getElementById('topsIcon');
   const topsPage = document.getElementById('topsPage');
   const topsItemsContainer = document.getElementById('topsItems');
   const topsDisplay = document.getElementById('tops'); // Main display area for tops
   const closetopsPageBtn = document.getElementById('closetopsPage'); // Close button


   const tops = [
       { src: 'defaults/tops/top1.png', name: 'Blue Hoodie', brand: 'Uniqlo' },
       { src: 'defaults/tops/top2.png', name: 'Green Hoodie', brand: 'Urban' },
       { src: 'defaults/tops/top3.png', name: 'Grey', brand: 'Pacsun' },
       { src: 'defaults/tops/top4.png', name: 'Sloodie', brand: 'Iongaf' },
       { src: 'defaults/tops/top6.png', name: 'Longsleeve', brand: 'Kapital' }
   ];


   function populateHoodieItems() {
       tops.forEach(item => {
           const itemContainer = document.createElement('div');
           itemContainer.classList.add('tops-item');
           const img = document.createElement('img');
           img.src = item.src;
           img.alt = item.name;


           // Info card with editable fields
           const infoCard = document.createElement('div');
           infoCard.className = 'tops-info-card';
           infoCard.innerHTML = `
               <p class="tops-item-info"><strong>Name:</strong> <span class="tops-item-name" contentEditable="false">${item.name}</span></p>
               <p class="tops-item-info"><strong>Brand:</strong> <span class="tops-item-brand" contentEditable="false">${item.brand}</span></p>
               <button class="tops-edit-btn">Edit</button>
		<button onclick='openDetailsModal(${JSON.stringify(item)})'>Learn More</button>


           `;


           // Click event to update the central display when a headwear image is clicked
           img.onclick = () => {
               topsDisplay.src = img.src;
           };


           itemContainer.appendChild(img);
           itemContainer.appendChild(infoCard);
           topsItemsContainer.appendChild(itemContainer);


           // Event for edit/save button
           infoCard.querySelector('.tops-edit-btn').addEventListener('click', function() {
               const name = infoCard.querySelector('.tops-item-name');
               const brand = infoCard.querySelector('.tops-item-brand');
               if (this.innerText === 'Edit') {
                   name.contentEditable = "true";
                   brand.contentEditable = "true";
                   this.innerText = 'Save';
                   name.focus();
               } else {
                   name.contentEditable = "false";
                   brand.contentEditable = "false";
                   this.innerText = 'Edit';
               }
           });
       });


       // Fill remaining grid slots with placeholders if necessary
       const itemsCount = tops.length;
       const totalSlots = 15; // Assuming a 5x3 grid
       const remainingSlots = totalSlots - itemsCount;
       for (let i = 0; i < remainingSlots; i++) {
           const placeholder = document.createElement('div');
           placeholder.classList.add('headwear-placeholder');
           topsItemsContainer.appendChild(placeholder);
       }
   }


   topsIcon.addEventListener('click', function(e) {
       e.preventDefault();
       topsPage.classList.toggle('active');
       if (!topsItemsContainer.hasChildNodes()) {
           populateHoodieItems();
       }
   });


   closetopsPageBtn.addEventListener('click', function() {
       topsPage.classList.remove('active');
   });
   });
</script>




<!-- bottoms Page Section, initially hidden -->
<div id="bottomsPage" class="bottoms-page">
   <!-- Your bottoms content here -->
   <button id="closebottomsPage" class="bottoms-title">bottoms</button>
   <div id="bottomsItems" class="bottoms-items"></div>
</div>
<script>
   document.addEventListener('DOMContentLoaded', function() {
   const bottomsIcon = document.getElementById('bottomsIcon');
   const bottomsPage = document.getElementById('bottomsPage');
   const bottomsItemsContainer = document.getElementById('bottomsItems');
   const bottomsDisplay = document.getElementById('bottoms'); // Main display area for bottoms
   const closebottomsPageBtn = document.getElementById('closebottomsPage'); // Close button


   const bottoms = [
       { src: 'defaults/bottoms/bottoms1.png', name: 'Blue', brand: 'Jeans' },
       { src: 'defaults/bottoms/bottoms2.png', name: 'White', brand: 'bottoms' },
       { src: 'defaults/bottoms/bottoms3.png', name: 'Brown', brand: 'Sweats' },
       { src: 'defaults/bottoms/bottoms4.png', name: 'Baggy Pants', brand: 'Bershka' },
       { src: 'defaults/bottoms/bottoms5.png', name: 'Grey', brand: 'Sweats' },
       { src: 'defaults/bottoms/bottoms6.png', name: 'Baggy Pants', brand: 'Bershka' }
   ];


   function populatebottomsItems() {
       bottoms.forEach(item => {
           const itemContainer = document.createElement('div');
           itemContainer.classList.add('bottoms-item');
           const img = document.createElement('img');
           img.src = item.src;
           img.alt = item.name;


           // Info card with editable fields
           const infoCard = document.createElement('div');
           infoCard.className = 'bottoms-info-card';
           infoCard.innerHTML = `
               <p class="bottoms-item-info"><strong>Name:</strong> <span class="bottoms-item-name" contentEditable="false">${item.name}</span></p>
               <p class="bottoms-item-info"><strong>Brand:</strong> <span class="bottoms-item-brand" contentEditable="false">${item.brand}</span></p>
               <button class="bottoms-edit-btn">Edit</button>
		<button onclick='openDetailsModal(${JSON.stringify(item)})'>Learn More</button>


           `;


           // Click event to update the central display when a bottoms image is clicked
           img.onclick = () => {
               bottomsDisplay.src = img.src;
           };


           itemContainer.appendChild(img);
           itemContainer.appendChild(infoCard);
           bottomsItemsContainer.appendChild(itemContainer);


           // Event for edit/save button
           infoCard.querySelector('.bottoms-edit-btn').addEventListener('click', function() {
               const name = infoCard.querySelector('.bottoms-item-name');
               const brand = infoCard.querySelector('.bottoms-item-brand');
               if (this.innerText === 'Edit') {
                   name.contentEditable = "true";
                   brand.contentEditable = "true";
                   this.innerText = 'Save';
                   name.focus();
               } else {
                   name.contentEditable = "false";
                   brand.contentEditable = "false";
                   this.innerText = 'Edit';
               }
           });
       });


       // Fill remaining grid slots with placeholders if necessary
       const itemsCount = bottoms.length;
       const totalSlots = 15; // Assuming a 5x3 grid
       const remainingSlots = totalSlots - itemsCount;
       for (let i = 0; i < remainingSlots; i++) {
           const placeholder = document.createElement('div');
           placeholder.classList.add('bottoms-placeholder');
           bottomsItemsContainer.appendChild(placeholder);
       }
   }


   bottomsIcon.addEventListener('click', function(e) {
       e.preventDefault();
       bottomsPage.classList.toggle('active');
       if (!bottomsItemsContainer.hasChildNodes()) {
           populatebottomsItems();
       }
   });


   closebottomsPageBtn.addEventListener('click', function() {
       bottomsPage.classList.remove('active');
   });
   });
</script>


<!-- Shoes Page Section, initially hidden -->
<div id="shoesPage" class="shoes-page">
   <!-- Your shoes content here -->
   <button id="closeShoesPage" class="shoes-title">shoes</button>
   <div id="shoesItems" class="shoes-items"></div>
</div>


<script>


   document.addEventListener('DOMContentLoaded', function() {
   const shoesIcon = document.getElementById('shoesIcon');
   const shoesPage = document.getElementById('shoesPage');
   const shoesItemsContainer = document.getElementById('shoesItems');
   const shoesDisplay = document.getElementById('shoes'); // Main display area for bottoms
   const closeShoesPageBtn = document.getElementById('closeShoesPage'); // Close button


   const shoes = [
       { src: 'defaults/shoes/shoes1.png', name: 'Sambas', brand: 'Adidas' },
       { src: 'defaults/shoes/shoes2.png', name: '550s', brand: 'New Balance' },
       { src: 'defaults/shoes/shoes3.png', name: 'Slippers', brand: 'Uggs' },
   ];


   function populateShoesItems() {
       shoes.forEach(item => {
           const itemContainer = document.createElement('div');
           itemContainer.classList.add('shoes-item');
           const img = document.createElement('img');
           img.src = item.src;
           img.alt = item.name;
           // Info card with editable fields
           const infoCard = document.createElement('div');
           infoCard.className = 'shoes-info-card';
           infoCard.innerHTML = `
               <p class="shoes-item-info"><strong>Name:</strong> <span class="shoes-item-name" contentEditable="false">${item.name}</span></p>
               <p class="shoes-item-info"><strong>Brand:</strong> <span class="shoes-item-brand" contentEditable="false">${item.brand}</span></p>
               <button class="shoes-edit-btn">Edit</button>
		  <button onclick='openDetailsModal(${JSON.stringify(item)})'>Learn More</button>


           `;


           // Click event to update the central display when a bottoms image is clicked
           img.onclick = () => {
               shoesDisplay.src = img.src;
           };


           itemContainer.appendChild(img);
           itemContainer.appendChild(infoCard);
           shoesItemsContainer.appendChild(itemContainer);


           // Event for edit/save button
           infoCard.querySelector('.shoes-edit-btn').addEventListener('click', function() {
               const name = infoCard.querySelector('.shoes-item-name');
               const brand = infoCard.querySelector('.shoes-item-brand');
               if (this.innerText === 'Edit') {
                   name.contentEditable = "true";
                   brand.contentEditable = "true";
                   this.innerText = 'Save';
                   name.focus();
               } else {
                   name.contentEditable = "false";
                   brand.contentEditable = "false";
                   this.innerText = 'Edit';
               }
           });
       });


       // Fill remaining grid slots with placeholders if necessary
       const itemsCount = bottoms.length;
       const totalSlots = 15; // Assuming a 5x3 grid
       const remainingSlots = totalSlots - itemsCount;
       for (let i = 0; i < remainingSlots; i++) {
           const placeholder = document.createElement('div');
           placeholder.classList.add('shoes-placeholder');
           shoesItemsContainer.appendChild(placeholder);
       }
   }
  
   shoesIcon.addEventListener('click', function(e) {
       e.preventDefault();
       shoesPage.classList.toggle('active');
       if (!shoesItemsContainer.hasChildNodes()) {
           populateShoesItems();
       }
   });


   closeShoesPageBtn.addEventListener('click', function() {
       shoesPage.classList.remove('active');
   });
   });
</script>


<!-- Saved Fits Page Section with Playlist -->
<div id="savedFitsPage" class="saved-fits-page">


   <!-- Close button at the top center -->
   <button id="closeSavedFitsPage" class="saved-fits-title">saved fits</button>


   <!-- Create Playlist Button -->
   <button id="createPlaylistButton" class="create-playlist-btn">Create Playlist</button>


   <!-- Container for all playlists, initially empty -->
   <div id="playlistsContainer" class="playlists-container"></div>


   <!-- Playlist Display for outfits -->
   <div id="playlistDisplay" class="playlist-display">
       <!-- The big square for the outfit display -->
       <div id="outfitDisplay" class="outfit-display"></div>


       <!-- Playback controls -->
       <div class="playlist-controls">
           <button id="prevOutfit" class="control-btn">Prev</button>
           <button id="playOutfit" class="control-btn">Play</button>
           <button id="nextOutfit" class="control-btn">Next</button>
       </div>
   </div>


   <!-- Container for displaying saved outfits -->
   <div id="savedFitsItems" class="saved-fits-items"></div>
</div>
 <script>
   document.addEventListener('DOMContentLoaded', function() {
       // Save Current Outfit Button
       const saveOutfitButton = document.getElementById('saveOutfitButton');
       const headwearDisplay = document.getElementById('headwear');
       const topsDisplay = document.getElementById('tops');
       const bottomsDisplay = document.getElementById('bottoms');
       const shoesDisplay = document.getElementById('shoes');


       // Handle saving the current outfit
       saveOutfitButton.addEventListener('click', function() {
           const savedOutfits = JSON.parse(sessionStorage.getItem('savedOutfits')) || [];
           const currentOutfit = {
               headwear: headwearDisplay.src,
               hoodie: topsDisplay.src,
               bottoms: bottomsDisplay.src,
               shoes: shoesDisplay.src
           };
           savedOutfits.push(currentOutfit);
           sessionStorage.setItem('savedOutfits', JSON.stringify(savedOutfits));
           alert('Outfit saved successfully!'); // Optional: feedback to the user
       });


       // Display saved outfits
       const savedFitsItemsContainer = document.getElementById('savedFitsItems');
       const savedFitsIcon = document.getElementById('savedFitsIcon');
       const savedFitsPage = document.getElementById('savedFitsPage');
       const closeSavedFitsPageBtn = document.getElementById('closeSavedFitsPage');


       // Toggle saved fits page
       savedFitsIcon.addEventListener('click', function(e) {
           e.preventDefault();
           savedFitsPage.classList.toggle('active');
           displaySavedFits();
       });


       // Close the saved fits page
       closeSavedFitsPageBtn.addEventListener('click', function() {
           savedFitsPage.classList.remove('active');
       });


       // Use event delegation for handling clicks on dynamic elements
       savedFitsItemsContainer.addEventListener('click', function(event) {
           const target = event.target;


           // Handle deletion of a fit
           if (target.classList.contains('fit-delete')) {
               const index = target.getAttribute('data-index');
               deleteFit(index);
               event.stopPropagation(); // Prevent further propagation of the click event
           }
       });
       // Add a separate listener for clicking the fit container to update the display
       savedFitsItemsContainer.addEventListener('click', function(event) {
           if (event.target.closest('.fit-item') && !event.target.classList.contains('fit-delete')) {
               // Extract the fit container
               const outfit = event.target.closest('.fit-item');
               updateDisplay(outfit);
           }
       });


       function deleteFit(index) {
       let savedFits = JSON.parse(sessionStorage.getItem('savedOutfits')) || [];
       savedFits.splice(index, 1);  // Remove the item at the specified index
       sessionStorage.setItem('savedOutfits', JSON.stringify(savedFits)); // Update sessionStorage
       displaySavedFits(); // Refresh the display of saved fits
       }


       // Function to handle adding an outfit to the playlist
       function addToPlaylist(outfit) {
           // Assuming 'playlist' is an array holding your playlist outfits in session storage
           const playlist = JSON.parse(sessionStorage.getItem('playlist')) || [];
           playlist.push(outfit);
           sessionStorage.setItem('playlist', JSON.stringify(playlist));
           alert('Added to playlist!'); // Optional: Provide user feedback
       }


       // Function to display saved fits
       function displaySavedFits() {
           const savedFitsItemsContainer = document.getElementById('savedFitsItems');
           savedFitsItemsContainer.innerHTML = ''; // Clear previous content
           const savedOutfits = JSON.parse(sessionStorage.getItem('savedOutfits')) || [];
           // Calculate remaining slots to fill with placeholders


           const totalSlots = 15; // Total slots in a 5x3 grid
           const remainingSlots = totalSlots - savedOutfits.length;
           savedOutfits.forEach((fit, index) => {
               const fitContainer = document.createElement('div');
               fitContainer.classList.add('fit-item');
               // Add image elements for each part of the outfit
               fitContainer.innerHTML = `
                   <div class="fit-delete" onclick="deleteFit(${index})">X</div>
                   <img src="${fit.headwear}" alt="Headwear" style="height: 30px; width: auto;">
                   <img src="${fit.hoodie}" alt="Hoodie" style="height: 70px; width: auto;">
                   <img src="${fit.bottoms}" alt="bottoms" style="height: 80px; width: auto;">
                   <img src="${fit.shoes}" alt="Shoes" style="height: 40px; width: auto;">
               `;
               const addToPlaylistButton = document.createElement('button');
               addToPlaylistButton.classList.add('add-to-playlist-btn');
               addToPlaylistButton.textContent = '+';
               addToPlaylistButton.onclick = () => addToPlaylist(fit); // Add the current outfit to the playlist
               fitContainer.appendChild(addToPlaylistButton);
               savedFitsItemsContainer.appendChild(fitContainer);
               // Add click event listener to update the current display
               fitContainer.addEventListener('click', () => {
                   document.getElementById('headwear').src = fit.headwear;
                   document.getElementById('tops').src = fit.hoodie;
                   document.getElementById('bottoms').src = fit.bottoms;
                   document.getElementById('shoes').src = fit.shoes;
               });


               // Optional: Highlight on hover to indicate clickable
               fitContainer.addEventListener('mouseover', () => {
                   fitContainer.style.cursor = 'pointer';
                   fitContainer.style.boxShadow = '0 4px 8px rgba(0,0,0,0.3)';
               });
               fitContainer.addEventListener('mouseout', () => {
                   fitContainer.style.boxShadow = '0 2px 4px rgba(0,0,0,0.1)';
               });
           });
       }
       // Playlist functionality
       let playing = false;
       let currentOutfitIndex = 0;
       let playlistInterval;


       const playButton = document.getElementById('playOutfit');
       const prevButton = document.getElementById('prevOutfit');
       const nextButton = document.getElementById('nextOutfit');
       const outfitDisplay = document.getElementById('outfitDisplay');
       const savedOutfits = JSON.parse(sessionStorage.getItem('savedOutfits')) || [];


       // Function to display an outfit in the playlist display
       function displayOutfit(index) {
           const outfit = savedOutfits[index];
           outfitDisplay.innerHTML = `
               <img src="${outfit.headwear}" alt="Headwear" style="height: 30px; width: auto;">
               <img src="${outfit.hoodie}" alt="Hoodie" style="height: 70px; width: auto;">
               <img src="${outfit.bottoms}" alt="bottoms" style="height: 80px; width: auto;">
               <img src="${outfit.shoes}" alt="Shoes" style="height: 40px; width: auto;">
           `;
       }


       playButton.addEventListener('click', () => {
           playing = !playing;
           playButton.textContent = playing ? 'Pause' : 'Play';
           if (playing) {
               playlistInterval = setInterval(() => {
                   currentOutfitIndex = (currentOutfitIndex + 1) % savedOutfits.length;
                   displayOutfit(currentOutfitIndex);
               }, 2000); // Change outfits every 2 seconds
           } else {
               clearInterval(playlistInterval);
           }
       });


       prevButton.addEventListener('click', () => {
           currentOutfitIndex = (currentOutfitIndex - 1 + savedOutfits.length) % savedOutfits.length;
           displayOutfit(currentOutfitIndex);
       });


       nextButton.addEventListener('click', () => {
           currentOutfitIndex = (currentOutfitIndex + 1) % savedOutfits.length;
           displayOutfit(currentOutfitIndex);
       });


       // Initially display the first outfit
       if (savedOutfits.length > 0) {
           displayOutfit(0);
       }
   });
</script>


<script>
   document.addEventListener('DOMContentLoaded', function() {
       const createPlaylistButton = document.getElementById('createPlaylistButton');
       const playlistsContainer = document.getElementById('playlistsContainer');
       let playlists = JSON.parse(sessionStorage.getItem('playlists')) || [];


       function createPlaylistDisplay(playlistIndex) {
           let playlistDisplay = document.createElement('div');
           playlistDisplay.classList.add('playlist-display');


           let outfitDisplay = document.createElement('div');
           outfitDisplay.classList.add('outfit-display');
           outfitDisplay.id = `outfitDisplay${playlistIndex}`;


           // Add delete button directly to the outfit display for better positioning
           let deleteButton = document.createElement('button');
           deleteButton.textContent = 'X';
           deleteButton.classList.add('delete-playlist-btn');
           deleteButton.onclick = function() { deletePlaylist(playlistIndex); };
           outfitDisplay.appendChild(deleteButton);  // Add the delete button to the outfit display


           let controls = document.createElement('div');
           controls.classList.add('playlist-controls');


           let prevButton = document.createElement('button');
           prevButton.classList.add('control-btn');
           prevButton.textContent = 'Prev';


           let playButton = document.createElement('button');
           playButton.classList.add('control-btn');
           playButton.textContent = 'Play';
           let playing = false;
           playButton.addEventListener('click', () => {
               playing = !playing;
               playButton.textContent = playing ? 'Pause' : 'Play';
               if (playing) {
                   playlistInterval = setInterval(() => {
                       currentOutfitIndex = (currentOutfitIndex + 1) % savedOutfits.length;
                       displayOutfit(currentOutfitIndex);
                   }, 2000); // Change outfits every 2 seconds
               } else {
                   clearInterval(playlistInterval);
               }
           });


           let nextButton = document.createElement('button');
           nextButton.classList.add('control-btn');
           nextButton.textContent = 'Next';


           controls.appendChild(prevButton);
           controls.appendChild(playButton);
           controls.appendChild(nextButton);


           playlistDisplay.appendChild(outfitDisplay);
           playlistDisplay.appendChild(controls);


           return playlistDisplay;
       }


       function displayPlaylists() {
           playlistsContainer.innerHTML = '';
           playlists.forEach((playlist, index) => {
               let playlistDisplay = createPlaylistDisplay(index);
               playlistsContainer.appendChild(playlistDisplay);
           });
       }


       function deletePlaylist(index) {
           playlists.splice(index, 1); // Remove the playlist from the array
           sessionStorage.setItem('playlists', JSON.stringify(playlists)); // Update sessionStorage
           displayPlaylists(); // Redraw the playlists
       }


       createPlaylistButton.addEventListener('click', function() {
           playlists.push({}); // Assuming each playlist is an object
           sessionStorage.setItem('playlists', JSON.stringify(playlists));
           displayPlaylists();
       });


       displayPlaylists();
   });
</script>




<!-- Universal Details Modal -->
<div id="detailsModal" class="modal">
   <div class="modal-content">
       <span class="close">&times;</span>
       <img id="modalImage" src="" alt="Item Image">
       <div id="modalDescription">
           <h3 id="modalName"></h3>
           <p id="modalBrand"></p>
       </div>
   </div>
</div>


<script>
   function openDetailsModal(item) {
   const modal = document.getElementById('detailsModal');
   document.getElementById('modalImage').src = item.src;
   document.getElementById('modalName').textContent = item.name;
   document.getElementById('modalBrand').textContent = item.brand;


   modal.style.display = "block";
}
document.querySelectorAll('.close').forEach(closeButton => {
   closeButton.onclick = function() {
       this.parentElement.parentElement.style.display = "none";
   }
});


window.onclick = function(event) {
   if (event.target.className === 'modal') {
       event.target.style.display = "none";
   }
}
</script>


</body>
</html>

